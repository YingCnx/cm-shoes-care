{"ast":null,"code":"import axios from 'axios';\nimport { data } from 'react-router-dom';\n\n// ✅ ตั้งค่า API Base URL\nconst API = axios.create({\n  baseURL: 'http://localhost:5000/api'\n});\n\n//-------Auth----------\nexport const login = (email, password) => API.post('/auth/login', {\n  email,\n  password\n});\nexport const createAdmin = (email, password) => API.post('/auth/create-admin', {\n  email,\n  password\n});\n\n//-------Appointments----------\nexport const getAppointments = () => API.get('/appointments');\nexport const createAppointment = appointmentData => API.post('/appointments/create', appointmentData);\nexport const updateAppointmentStatus = (id, status) => API.put(`/appointments/${id}/status`, {\n  status\n});\nexport const updateAppointment = (id, updatedData) => API.put(`/appointments/${id}`, updatedData);\nexport const deleteAppointment = id => API.delete(`/appointments/${id}`);\n\n//-------Queue----------\nexport const createQueue = queueData => API.post(\"/queue\", queueData);\nexport const getQueue = () => API.get(\"/queue\");\n//export const getQueueDetail = (id) => API.get(`/queue/${id}`);\nexport const updateQueueStatus = (id, status, total_price) => API.put(`/queue/${id}/status`, {\n  status,\n  total_price\n});\nexport const deleteQueue = id => API.delete(`/queue/${id}`);\n\n// ✅ เพิ่มบริการเข้า queue_items\n// ✅ เพิ่มรองเท้าพร้อมรูปภาพ\nexport const addQueueItems = (queue_id, shoeData) => {\n  var _shoeData$images, _shoeData$images2, _shoeData$images3, _shoeData$images4, _shoeData$images5, _shoeData$images6;\n  const shoeData1 = new FormData(shoeData);\n  const formData = new FormData();\n\n  // ✅ ตรวจสอบค่าก่อนเพิ่มลง FormData\n  formData.append(\"service_id\", shoeData1.service_id || \"\");\n  formData.append(\"price_per_pair\", shoeData.price_per_pair || \"0\");\n  formData.append(\"brand\", shoeData.brand || \"\");\n  formData.append(\"model\", shoeData.model || \"\");\n  formData.append(\"color\", shoeData.color || \"\");\n  formData.append(\"notes\", shoeData.notes || \"\");\n\n  // ✅ เพิ่มไฟล์ภาพลงใน FormData (ถ้ามี)\n  if ((_shoeData$images = shoeData.images) !== null && _shoeData$images !== void 0 && _shoeData$images.front) formData.append(\"image_front\", shoeData.images.front);\n  if ((_shoeData$images2 = shoeData.images) !== null && _shoeData$images2 !== void 0 && _shoeData$images2.back) formData.append(\"image_back\", shoeData.images.back);\n  if ((_shoeData$images3 = shoeData.images) !== null && _shoeData$images3 !== void 0 && _shoeData$images3.left) formData.append(\"image_left\", shoeData.images.left);\n  if ((_shoeData$images4 = shoeData.images) !== null && _shoeData$images4 !== void 0 && _shoeData$images4.right) formData.append(\"image_right\", shoeData.images.right);\n  if ((_shoeData$images5 = shoeData.images) !== null && _shoeData$images5 !== void 0 && _shoeData$images5.top) formData.append(\"image_top\", shoeData.images.top);\n  if ((_shoeData$images6 = shoeData.images) !== null && _shoeData$images6 !== void 0 && _shoeData$images6.bottom) formData.append(\"image_bottom\", shoeData.images.bottom);\n\n  // ✅ ส่งข้อมูลไปยัง API โดยใช้ multipart/form-data\n  return API.post(`/queue/${queue_id}/items`, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n};\n\n// ✅ ดึงรายการบริการใน queue_items ตาม queue_id\nexport const getQueueItems = queue_id => API.get(`/queue/${queue_id}/items`);\n\n// ✅ ดึงข้อมูลรายละเอียดคิว\nexport const getQueueDetail = id => API.get(`/queue/${id}`);\n\n// ✅ ดึงบริการทั้งหมด\nexport const getServices = () => API.get('/services');\n\n// ✅ อัปเดตรายละเอียดคิว (เพิ่ม-ลบ บริการ)\nexport const updateQueue = async (id, updatedData) => {\n  console.log(\"📌 Debug: Sending to API\", `/queue/${id}`, updatedData);\n  return API.put(`/queue/${id}`, updatedData);\n};\n\n// ✅ ลบบริการออกจากคิว\nexport const deleteQueueItem = (queue_id, service_id) => API.delete(`/queue/${queue_id}/item/${service_id}`);","map":{"version":3,"names":["axios","data","API","create","baseURL","login","email","password","post","createAdmin","getAppointments","get","createAppointment","appointmentData","updateAppointmentStatus","id","status","put","updateAppointment","updatedData","deleteAppointment","delete","createQueue","queueData","getQueue","updateQueueStatus","total_price","deleteQueue","addQueueItems","queue_id","shoeData","_shoeData$images","_shoeData$images2","_shoeData$images3","_shoeData$images4","_shoeData$images5","_shoeData$images6","shoeData1","FormData","formData","append","service_id","price_per_pair","brand","model","color","notes","images","front","back","left","right","top","bottom","headers","getQueueItems","getQueueDetail","getServices","updateQueue","console","log","deleteQueueItem"],"sources":["C:/Users/PM/cm-shoes-care/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport { data } from 'react-router-dom';\r\n\r\n// ✅ ตั้งค่า API Base URL\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n});\r\n\r\n//-------Auth----------\r\nexport const login = (email, password) => API.post('/auth/login', { email, password });\r\nexport const createAdmin = (email, password) => API.post('/auth/create-admin', { email, password });\r\n\r\n//-------Appointments----------\r\nexport const getAppointments = () => API.get('/appointments');\r\nexport const createAppointment = (appointmentData) => API.post('/appointments/create', appointmentData);\r\nexport const updateAppointmentStatus = (id, status) => API.put(`/appointments/${id}/status`, { status });\r\nexport const updateAppointment = (id, updatedData) => API.put(`/appointments/${id}`, updatedData);\r\nexport const deleteAppointment = (id) => API.delete(`/appointments/${id}`);\r\n\r\n//-------Queue----------\r\nexport const createQueue = (queueData) => API.post(\"/queue\", queueData);\r\nexport const getQueue = () => API.get(\"/queue\");\r\n//export const getQueueDetail = (id) => API.get(`/queue/${id}`);\r\nexport const updateQueueStatus = (id, status, total_price) => API.put(`/queue/${id}/status`, { status, total_price });\r\nexport const deleteQueue = (id) => API.delete(`/queue/${id}`);\r\n\r\n// ✅ เพิ่มบริการเข้า queue_items\r\n// ✅ เพิ่มรองเท้าพร้อมรูปภาพ\r\nexport const addQueueItems = (queue_id, shoeData) => {\r\n  const shoeData1 = new FormData(shoeData);\r\n  const formData = new FormData();\r\n\r\n  // ✅ ตรวจสอบค่าก่อนเพิ่มลง FormData\r\n  formData.append(\"service_id\", shoeData1.service_id || \"\");\r\n  formData.append(\"price_per_pair\", shoeData.price_per_pair || \"0\");\r\n  formData.append(\"brand\", shoeData.brand || \"\");\r\n  formData.append(\"model\", shoeData.model || \"\");\r\n  formData.append(\"color\", shoeData.color || \"\");\r\n  formData.append(\"notes\", shoeData.notes || \"\");\r\n\r\n  // ✅ เพิ่มไฟล์ภาพลงใน FormData (ถ้ามี)\r\n  if (shoeData.images?.front) formData.append(\"image_front\", shoeData.images.front);\r\n  if (shoeData.images?.back) formData.append(\"image_back\", shoeData.images.back);\r\n  if (shoeData.images?.left) formData.append(\"image_left\", shoeData.images.left);\r\n  if (shoeData.images?.right) formData.append(\"image_right\", shoeData.images.right);\r\n  if (shoeData.images?.top) formData.append(\"image_top\", shoeData.images.top);\r\n  if (shoeData.images?.bottom) formData.append(\"image_bottom\", shoeData.images.bottom);\r\n  \r\n  // ✅ ส่งข้อมูลไปยัง API โดยใช้ multipart/form-data\r\n  return API.post(`/queue/${queue_id}/items`, formData, {   \r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\n\r\n\r\n// ✅ ดึงรายการบริการใน queue_items ตาม queue_id\r\nexport const getQueueItems = (queue_id) => API.get(`/queue/${queue_id}/items`);\r\n\r\n// ✅ ดึงข้อมูลรายละเอียดคิว\r\nexport const getQueueDetail = (id) => API.get(`/queue/${id}`);\r\n\r\n// ✅ ดึงบริการทั้งหมด\r\nexport const getServices = () => API.get('/services');\r\n\r\n// ✅ อัปเดตรายละเอียดคิว (เพิ่ม-ลบ บริการ)\r\nexport const updateQueue = async (id, updatedData) => {\r\n  console.log(\"📌 Debug: Sending to API\", `/queue/${id}`, updatedData);\r\n  return API.put(`/queue/${id}`, updatedData);\r\n};\r\n\r\n// ✅ ลบบริการออกจากคิว\r\nexport const deleteQueueItem = (queue_id, service_id) => API.delete(`/queue/${queue_id}/item/${service_id}`);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAKL,GAAG,CAACM,IAAI,CAAC,aAAa,EAAE;EAAEF,KAAK;EAAEC;AAAS,CAAC,CAAC;AACtF,OAAO,MAAME,WAAW,GAAGA,CAACH,KAAK,EAAEC,QAAQ,KAAKL,GAAG,CAACM,IAAI,CAAC,oBAAoB,EAAE;EAAEF,KAAK;EAAEC;AAAS,CAAC,CAAC;;AAEnG;AACA,OAAO,MAAMG,eAAe,GAAGA,CAAA,KAAMR,GAAG,CAACS,GAAG,CAAC,eAAe,CAAC;AAC7D,OAAO,MAAMC,iBAAiB,GAAIC,eAAe,IAAKX,GAAG,CAACM,IAAI,CAAC,sBAAsB,EAAEK,eAAe,CAAC;AACvG,OAAO,MAAMC,uBAAuB,GAAGA,CAACC,EAAE,EAAEC,MAAM,KAAKd,GAAG,CAACe,GAAG,CAAC,iBAAiBF,EAAE,SAAS,EAAE;EAAEC;AAAO,CAAC,CAAC;AACxG,OAAO,MAAME,iBAAiB,GAAGA,CAACH,EAAE,EAAEI,WAAW,KAAKjB,GAAG,CAACe,GAAG,CAAC,iBAAiBF,EAAE,EAAE,EAAEI,WAAW,CAAC;AACjG,OAAO,MAAMC,iBAAiB,GAAIL,EAAE,IAAKb,GAAG,CAACmB,MAAM,CAAC,iBAAiBN,EAAE,EAAE,CAAC;;AAE1E;AACA,OAAO,MAAMO,WAAW,GAAIC,SAAS,IAAKrB,GAAG,CAACM,IAAI,CAAC,QAAQ,EAAEe,SAAS,CAAC;AACvE,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAMtB,GAAG,CAACS,GAAG,CAAC,QAAQ,CAAC;AAC/C;AACA,OAAO,MAAMc,iBAAiB,GAAGA,CAACV,EAAE,EAAEC,MAAM,EAAEU,WAAW,KAAKxB,GAAG,CAACe,GAAG,CAAC,UAAUF,EAAE,SAAS,EAAE;EAAEC,MAAM;EAAEU;AAAY,CAAC,CAAC;AACrH,OAAO,MAAMC,WAAW,GAAIZ,EAAE,IAAKb,GAAG,CAACmB,MAAM,CAAC,UAAUN,EAAE,EAAE,CAAC;;AAE7D;AACA;AACA,OAAO,MAAMa,aAAa,GAAGA,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,iBAAA;EACnD,MAAMC,SAAS,GAAG,IAAIC,QAAQ,CAACR,QAAQ,CAAC;EACxC,MAAMS,QAAQ,GAAG,IAAID,QAAQ,CAAC,CAAC;;EAE/B;EACAC,QAAQ,CAACC,MAAM,CAAC,YAAY,EAAEH,SAAS,CAACI,UAAU,IAAI,EAAE,CAAC;EACzDF,QAAQ,CAACC,MAAM,CAAC,gBAAgB,EAAEV,QAAQ,CAACY,cAAc,IAAI,GAAG,CAAC;EACjEH,QAAQ,CAACC,MAAM,CAAC,OAAO,EAAEV,QAAQ,CAACa,KAAK,IAAI,EAAE,CAAC;EAC9CJ,QAAQ,CAACC,MAAM,CAAC,OAAO,EAAEV,QAAQ,CAACc,KAAK,IAAI,EAAE,CAAC;EAC9CL,QAAQ,CAACC,MAAM,CAAC,OAAO,EAAEV,QAAQ,CAACe,KAAK,IAAI,EAAE,CAAC;EAC9CN,QAAQ,CAACC,MAAM,CAAC,OAAO,EAAEV,QAAQ,CAACgB,KAAK,IAAI,EAAE,CAAC;;EAE9C;EACA,KAAAf,gBAAA,GAAID,QAAQ,CAACiB,MAAM,cAAAhB,gBAAA,eAAfA,gBAAA,CAAiBiB,KAAK,EAAET,QAAQ,CAACC,MAAM,CAAC,aAAa,EAAEV,QAAQ,CAACiB,MAAM,CAACC,KAAK,CAAC;EACjF,KAAAhB,iBAAA,GAAIF,QAAQ,CAACiB,MAAM,cAAAf,iBAAA,eAAfA,iBAAA,CAAiBiB,IAAI,EAAEV,QAAQ,CAACC,MAAM,CAAC,YAAY,EAAEV,QAAQ,CAACiB,MAAM,CAACE,IAAI,CAAC;EAC9E,KAAAhB,iBAAA,GAAIH,QAAQ,CAACiB,MAAM,cAAAd,iBAAA,eAAfA,iBAAA,CAAiBiB,IAAI,EAAEX,QAAQ,CAACC,MAAM,CAAC,YAAY,EAAEV,QAAQ,CAACiB,MAAM,CAACG,IAAI,CAAC;EAC9E,KAAAhB,iBAAA,GAAIJ,QAAQ,CAACiB,MAAM,cAAAb,iBAAA,eAAfA,iBAAA,CAAiBiB,KAAK,EAAEZ,QAAQ,CAACC,MAAM,CAAC,aAAa,EAAEV,QAAQ,CAACiB,MAAM,CAACI,KAAK,CAAC;EACjF,KAAAhB,iBAAA,GAAIL,QAAQ,CAACiB,MAAM,cAAAZ,iBAAA,eAAfA,iBAAA,CAAiBiB,GAAG,EAAEb,QAAQ,CAACC,MAAM,CAAC,WAAW,EAAEV,QAAQ,CAACiB,MAAM,CAACK,GAAG,CAAC;EAC3E,KAAAhB,iBAAA,GAAIN,QAAQ,CAACiB,MAAM,cAAAX,iBAAA,eAAfA,iBAAA,CAAiBiB,MAAM,EAAEd,QAAQ,CAACC,MAAM,CAAC,cAAc,EAAEV,QAAQ,CAACiB,MAAM,CAACM,MAAM,CAAC;;EAEpF;EACA,OAAOnD,GAAG,CAACM,IAAI,CAAC,UAAUqB,QAAQ,QAAQ,EAAEU,QAAQ,EAAE;IACpDe,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACnD,CAAC,CAAC;AACJ,CAAC;;AAID;AACA,OAAO,MAAMC,aAAa,GAAI1B,QAAQ,IAAK3B,GAAG,CAACS,GAAG,CAAC,UAAUkB,QAAQ,QAAQ,CAAC;;AAE9E;AACA,OAAO,MAAM2B,cAAc,GAAIzC,EAAE,IAAKb,GAAG,CAACS,GAAG,CAAC,UAAUI,EAAE,EAAE,CAAC;;AAE7D;AACA,OAAO,MAAM0C,WAAW,GAAGA,CAAA,KAAMvD,GAAG,CAACS,GAAG,CAAC,WAAW,CAAC;;AAErD;AACA,OAAO,MAAM+C,WAAW,GAAG,MAAAA,CAAO3C,EAAE,EAAEI,WAAW,KAAK;EACpDwC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE,UAAU7C,EAAE,EAAE,EAAEI,WAAW,CAAC;EACpE,OAAOjB,GAAG,CAACe,GAAG,CAAC,UAAUF,EAAE,EAAE,EAAEI,WAAW,CAAC;AAC7C,CAAC;;AAED;AACA,OAAO,MAAM0C,eAAe,GAAGA,CAAChC,QAAQ,EAAEY,UAAU,KAAKvC,GAAG,CAACmB,MAAM,CAAC,UAAUQ,QAAQ,SAASY,UAAU,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}